{
	"module": "debitomancy",
	"author": "wunarg, draxius",
	"data": {
		"skills": [
			{
				"id": "debitomancy",
				"name": "债务学",
				"require": "(g.debt>=10||g.shopkeeping>=6)&&g.tier1>0",
				"desc": "掌控欠债与债务人",
				"level": 5,
				"buy": {
					"arcana": 40
				},
				"run": {
					"stamina": 0.3,
					"debt": 1
				},
				"mod": {
					"research.max": 5,
					"debt.max": 100
				}
			}
		],
		"tasks": [
			{
				"id": "burningrecords",
				"name": "永燃账册",
				"actname": "燃烧账册",
				"desc": "你欠款的累积记录，永恒燃烧并被抹去",
				"flavor": "无尽卷轴的邪恶对应物。",
				"require": "g.debitomancy>=6&&g.firelore>=7&&g.languages>=7",
				"max": 1,
				"length": 120,
				"cost": {
					"codices": 2
				},
				"run": {
					"stamina": 2,
					"scrolls": 0.25,
					"fire": 0.5
				},
				"effect": {
					"debitomancy.exp": "g.debitomancy.rate*0.2"
				},
				"mod": {
					"debt.convert.output.effect.debt": -0.00015,
					"debitomancy.max": 2,
					"debitomancy.rate": 0.2,
					"firelore.max": 1,
					"firelore.rate": 0.1
				},
				"group": "债务"
			},
			{
				"id": "borrowmoney",
				"name": "借钱",
				"verb": "借款中",
				"desc": "向熟人借些速借资金",
				"require": "g.shopkeeping>=6||g.debitomancy>=1",
				"perpetual": true,
				"run": {
					"debt": 20
				},
				"effect": {
					"gold": 20,
					"debitomancy.exp": "g.debitomancy.rate*0.2"
				},
				"group": "财富"
			},
			{
				"id": "prisonlabor",
				"name": "苦役",
				"verb": "破石劳作",
				"desc": "通过体力劳动偿还债务，对于自尊的法师而言是可怕的事",
				"flavor": "自从时间魔法事件后禁止魔法。",
				"require": "g.debitomancy>=1",
				"need": "g.debt>=1",
				"perpetual": true,
				"length": 20,
				"run": {
					"stamina": 1,
					"hp": 0.1
				},
				"result": {
					"debt": -10
				},
				"at": {
					"20": {
						"run.stamina": -0.2
					},
					"50": {
						"result.debt": -5
					}
				},
				"group": "财富"
			},
			{
				"id": "encase_debt",
				"name": "扩展会计记录",
				"verb": "记账",
				"desc": "也许另一套账本能误导讨债者？",
				"flavor": "这条纸质痕迹似乎永无止境……且越来越昂贵！",
				"tags": "t_languagework",
				"require": "g.debitomancy>=10",
				"perpetual": true,
				"length": 36,
				"max": 100,
				"cost": {
					"scrolls": 5,
					"codices": 5,
					"tomes": 5
				},
				"run": {
					"stamina": 1,
					"research": 20
				},
				"mod": {
					"debitomancy.max": "0.05//100/20",
					"encase_debt.result.debt": -1
				},
				"effect": {
					"debt": -1
				},
				"result": {
					"debt": -1
				},
				"at": {
					"10": {
						"effect.debt": -1
					},
					"20": {
						"effect.debt": -1
					},
					"30": {
						"effect.debt": -1
					},
					"40": {
						"effect.debt": -1
					}
				},
				"group": "财富"
			},
			{
				"id": "lendgold",
				"name": "放贷",
				"verb": "放贷中",
				"desc": "把金币借给有需要又愚蠢的人",
				"tags": "t_languagework",
				"require": "g.debitomancy>=3",
				"length": 20,
				"cost": {
					"gold": 200
				},
				"run": {
					"stamina": 1
				},
				"result": {
					"gold": "150~300"
				},
				"at": {
					"20": {
						"length": -2,
						"run.stamina": -0.2
					}
				},
				"group": "财富"
			}
		],
		"upgrades": [
			{
				"id": "moredebt",
				"name": "更多借贷者",
				"desc": "找到更多愿意借钱的人",
				"require": "g.debitomancy>=2",
				"max": 5,
				"cost": {
					"research": 1000,
					"gold": 500,
					"gems": 10
				},
				"mod": {
					"debt.max": 500,
					"debitomancy.max": 1,
					"borrowmoney.run.debt": 10,
					"borrowmoney.effect.gold": 10
				},
				"group": "债务"
			},
			{
				"id": "creativeaccounting",
				"name": "创意会计",
				"desc": "只需少量四舍五入的误差",
				"require": "g.debitomancy>=4",
				"max": 1,
				"cost": {
					"research": 100,
					"gold": 500,
					"scrolls": 40
				},
				"mod": {
					"debt.convert.output.effect.debt": -0.0001
				},
				"group": "债务"
			},
			{
				"id": "cheaperdebt",
				"name": "更优放贷机构",
				"desc": "通过足够研究，你能找到利率不那么离谱的放贷人",
				"require": "g.debitomancy>=6",
				"max": 1,
				"cost": {
					"research": 2000
				},
				"mod": {
					"debt.convert.input.gold": -0.0001,
					"debitomancy.max": 1
				},
				"group": "债务"
			},
			{
				"id": "debttravel",
				"name": "债务旅行",
				"desc": "如果你走得够远，他们或许找不到你了",
				"require": "g.debitomancy>=3&&g.a_travel>0",
				"max": 1,
				"cost": {
					"research": 500
				},
				"mod": {
					"a_travel.effect.debt": -0.5,
					"debitomancy.max": 0.5
				},
				"group": "债务"
			},
			{
				"id": "debttrickery",
				"name": "债务诡计",
				"desc": "快速的金钱与更快的手会让你的债务更快消失。",
				"flavor": "假名、假身份，凡是能逃避债务之物皆可使用",
				"warn": true,
				"warnMsg": "有此升级时，移除债务导致的债务与金币减少会同时加速",
				"require": "g.debitomancy>=5&&g.trickery>=2",
				"max": 1,
				"cost": {
					"research": 500
				},
				"mod": {
					"trickery.mod.debt.convert.output.effect.debt": -0.0001,
					"trickery.mod.debt.convert.input.gold": 0.0001,
					"debitomancy.max": 0.5
				},
				"group": "债务"
			},
			{
				"id": "debtgeomancy",
				"name": "附魔桎梏",
				"desc": "在苦役营中偷偷加入地术附魔，使之更轻松一些",
				"group": "债务",
				"require": "g.earthlore>=7&&g.debitomancy>=6",
				"max": 1,
				"cost": {
					"earthgem": 2,
					"research": 500
				},
				"mod": {
					"prisonlabor.run.stamina": -0.5,
					"prisonlabor.result.debt": -5,
					"debitomancy.max": 0.5
				}
			},
			{
				"id": "debtmurder",
				"name": "债务谋杀",
				"desc": "尸体不欠债",
				"group": "债务",
				"require": "g.debitomancy>=2&&g.murder>0",
				"max": 1,
				"cost": {
					"research": 350
				},
				"result": {
					"evilamt": 20
				},
				"mod": {
					"murder.result.debt": -2,
					"debitomancy.max": 0.5
				}
			},
			{
				"id": "debtdemon",
				"name": "恶魔放贷",
				"desc": "替代的抵押品也是完全可以接受的",
				"flavor": "我所要取的那一磅肉，是昂贵的代价；它归我所有，我必取之。",
				"require": "g.debitomancy>=2&&g.demonology>=7",
				"max": 1,
				"cost": {
					"research": 1200
				},
				"mod": {
					"lendgold.result.bloodgem": 0.2,
					"debt.max": 250,
					"debitomancy.max": 0.5
				},
				"group": "债务"
			},
			{
				"id": "debtvirtuous",
				"name": "高尚信誉",
				"desc": "当人们信任你时，债务偿还可以稍微放缓",
				"need": "(g.virtue - g.evilamt)>=50",
				"needtext": "必须拥有比邪恶多 50 点的美德",
				"require": "g.debitomancy>=4&&g.evil2==0&&g.good1==1",
				"max": 1,
				"cost": {
					"research": 500,
					"gold": 1000
				},
				"mod": {
					"debt.convert.input.gold": -0.0002,
					"debt.max": 250,
					"debitomancy.max": 0.5
				},
				"group": "债务"
			},
			{
				"id": "curselendgold",
				"name": "诅咒金币",
				"desc": "用可怕的诅咒标记你的金币，让不还债的人遭受其害",
				"require": "g.debitomancy>=4&&g.shadowlore>=6",
				"max": 1,
				"cost": {
					"research": 1000,
					"gold": 300,
					"shadowgem": 5
				},
				"mod": {
					"lendgold.result.gold.min": 50,
					"debitomancy.max": 0.5
				},
				"group": "债务"
			},
			{
				"id": "planarlendgold",
				"name": "跨界放贷",
				"desc": "将你的放贷服务扩展到其他位面",
				"require": "g.debitomancy>=5&&g.planeslore>=10",
				"max": 1,
				"cost": {
					"research": 2000,
					"gold": 1000,
					"managem": 5
				},
				"mod": {
					"lendgold.result.gold.max": 250,
					"lendgold.result.gold.min": 200,
					"lendgold.cost.gold": 200,
					"debitomancy.max": 0.5
				},
				"group": "债务"
			},
			{
				"id": "animallendgold",
				"name": "熊类执行条款",
				"desc": "根据标准借贷合同第 3:3:63 条，逾期未还可能导致由恐怖熊执行的惩罚性赔偿。",
				"flavor": "债务人出场，被熊追赶。",
				"require": "g.debitomancy>=9&&g.animals>=12",
				"max": 1,
				"cost": {
					"research": 4000,
					"gold": 3000,
					"naturegem": 10
				},
				"mod": {
					"lendgold.result.gold.max": 150,
					"lendgold.cost.herbs": 1,
					"debitomancy.max": 0.5
				},
				"group": "债务"
			},
			{
				"id": "debtrevelation",
				"name": "债者启示",
				"desc": "当你低于零时会发生什么",
				"require": "g.debitomancy>=5&&g.voidlore>0",
				"warn": true,
				"max": 1,
				"cost": {
					"research": 10000,
					"managem": 20,
					"debt": 100
				},
				"mod": {
					"debt.rate": 0.1,
					"debt.mod.research.rate": 0.01
				},
				"convert": {
					"input": {
						"gold": 0.01
					},
					"output": {
						"effect": {
							"debt": -0.01
						}
					}
				},
				"group": "债务"
			},
			{
				"id": "debtrevelation2",
				"name": "债者顿悟",
				"desc": "想象化为真实",
				"require": "g.debtrevelation>0",
				"need": "g.debt>=2500",
				"needtext": "必须拥有 2500 或以上的债务",
				"max": 1,
				"mod": {
					"voidlore.max": 1
				},
				"group": "债务"
			},
			{
				"id": "debtrevelation3",
				"name": "债者觉悟",
				"desc": "在虚无彼端，颠倒的世界展现出来",
				"require": "g.debtrevelation2>0",
				"need": "g.debt>=5000",
				"needtext": "必须拥有 5000 或以上的债务",
				"max": 1,
				"mod": {
					"voidlore.max": 1
				},
				"group": "债务"
			},
			{
				"id": "ashdebtrevelation1",
				"name": "灰烬真理",
				"desc": "在烧焦的账本中，你意识到物质财物的真实平庸。",
				"require": "g.debtrevelation>0&&g.encase_debt>=10",
				"need": "g.encase_debt>=50",
				"needtext": "必须扩展会计记录 50 次或以上。",
				"max": 1,
				"mod": {
					"voidlore.max": 1
				},
				"group": "债务"
			},
			{
				"id": "ashdebtrevelation2",
				"name": "灰烬之乐",
				"desc": "当你销毁所有关于自己的记录时，你从物质存在的枷锁中解放出来。",
				"require": "g.ashdebtrevelation1>0",
				"need": "g.encase_debt>=100",
				"needtext": "必须扩展会计记录 100 次或以上。",
				"max": 1,
				"mod": {
					"voidlore.max": 1
				},
				"group": "债务"
			}
		],
		"furniture": [
			{
				"id": "debttransmuter",
				"name": "债务转化器",
				"desc": "将债务与金币化为虚无",
				"require": "g.debitomancy>=5&&g.voidlore>=3&&g.debtrevelation>0",
				"max": 3,
				"cost": {
					"gold": 1000,
					"gems": 40,
					"arcana": 5,
					"managem": 10
				},
				"convert": {
					"input": {
						"gold": 0.03,
						"debt": -0.03
					},
					"output": {
						"mod": {
							"void.rate": 0.03
						}
					}
				},
				"mod": {
					"space": 3,
					"debitomancy.mod.debt.max": 3
				}
			}
		],
		"resources": [
			{
				"id": "debt",
				"name": "债务",
				"group": "逆境",
				"desc": "债务正在啃噬着你",
				"require": "g.debt>=1",
				"max": 500,
				"sortOrder": 805,
				"reverse": true,
				"convert": {
					"input": {
						"gold": 0.002
					},
					"output": {
						"effect": {
							"debt": -0.001
						}
					}
				}
			}
		],
		"spells": [
			{
				"id": "mk_loan_shark",
				"name": "召唤放贷鲨",
				"desc": "召唤一个放贷鲨去追捕你的债务人。还附带一套西装和乡村俱乐部会籍。",
				"sortOrder": 1799,
				"level": 7,
				"school": "summoning",
				"keywords": {
					"type": [
						"summon"
					],
					"target": [
						"ally"
					],
					"targets": [
						"single"
					],
					"delivery": [
						"instant"
					]
				},
				"require": "g.debitomancy>=10&&g.tier2>0",
				"buy": {
					"research": 4000,
					"gold": 2500,
					"tomes": 10
				},
				"cost": {
					"debt": 250
				},
				"cd": 5,
				"summon": [
					{
						"id": "sum_loan_shark",
						"count": 1,
						"max": 3
					}
				]
			},
			{
				"id": "mon_pilfer_gold",
				"name": "顺手牵羊",
				"level": 3,
				"school": "arcane",
				"keywords": {
					"target": [
						"enemy"
					],
					"targets": [
						"single"
					],
					"delivery": [
						"instant"
					],
					"special": [
						"resource"
					]
				},
				"require": "g.lore>999",
				"attack": {
					"targetspec": {
						"notaffectedby": {
							"condition": [
								"pilfered_dot"
							],
							"strict": true,
							"conditiontext": "having their valuables stolen"
						}
					},
					"dot": {
						"id": "pilfered_dot",
						"kind": "chaos",
						"name": "失窃的贵重物品"
					},
					"damage": "t.hp.max/100",
					"acquire": {
						"gold": "(10+Math.pow(t.level,1.3))*(0.8+0.5*Math.random())"
					}
				}
			}
		],
		"monsters": [
			{
				"id": "sum_loan_shark",
				"name": "放贷鲨",
				"tags": "t_summon",
				"kind": "demon",
				"level": 20,
				"desc": "它能从七重里外闻到绝望的气息。",
				"hp": 73,
				"noproc": true,
				"defense": 30,
				"spells": "mon_pilfer_gold,perfectstrike",
				"resist": {
					"water": 50
				},
				"attack": {
					"name": "猛咬",
					"kind": "pierce",
					"damage": "10~15",
					"leech": 0.5,
					"dot": {
						"id": "bleed",
						"damage": "1~5",
						"duration": 10
					}
				}
			}
		]
	}
}