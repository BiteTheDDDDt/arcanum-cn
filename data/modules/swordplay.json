{
	"module": "swordplay",
	"author": "dfirestorm",
	"data": {
		"skills": [
			{
				"id": "bladelore",
				"name": "剑术",
				"desc": "把剑术融入你的魔法，反之亦然。",
				"require": "g.t_swordclass>0",
				"need": "armssource",
				"level": 5,
				"buy": {
					"arcana": 25
				},
				"run": {
					"stamina": 1.5
				},
				"mod": {
					"sworddmg": 3,
					"sword_lessons.max": 1
				}
			}
		],
		"upgrades": [
			{
				"id": "bladeweaver_upgrade",
				"name": "剑之编织",
				"require": "g.bladelore>=5&&g.bladeweaver>0",
				"desc": "在战斗中将斩击如线般编织入技艺。",
				"max": 1,
				"cost": {
					"codices": 15,
					"research": 1000,
					"spinwheel": 1
				},
				"mod": {
					"weaving.max": 2,
					"weaving.mod.sworddmg": 0.5
				},
				"flavor": "当地的织工在纺纱时讲述战争的故事。",
				"group": "武技"
			},
			{
				"id": "defensive_dance",
				"name": "防御之舞",
				"require": "g.bladelore>=7&&g.arcanedervish>0",
				"desc": "利用你的战斗技艺抵抗物理打击。",
				"max": 1,
				"cost": {
					"tomes": 15,
					"research": 3000
				},
				"mod": {
					"player.resist.blunt": 5,
					"player.resist.pierce": 5,
					"player.resist.slash": 5
				},
				"flavor": "一记擦伤胜过实打实的一击。",
				"group": "武技"
			},
			{
				"id": "divine_wind",
				"name": "神风",
				"require": "g.bladelore>=9&&g.eldritchknight>0",
				"desc": "学习以速度化解缠绕",
				"max": 1,
				"cost": {
					"tomes": 15,
					"research": 5000
				},
				"mod": {
					"player.negate.entangle": 15
				},
				"flavor": "斩断一切束缚你的事物。",
				"group": "武技"
			}
		],
		"tasks": [
			{
				"id": "sword_basics",
				"name": "训练木人练习",
				"require": "g.bladelore>=1&&g.training_dummy>0",
				"desc": "针对静止的敌人磨练你的剑技。每次训练花费更多并需要更长时间。",
				"max": 5,
				"length": 15,
				"cost": {
					"codices": "2+g.sword_basics*2",
					"research": "200+g.sword_basics*150",
					"gold": "500+g.sword_basics*10"
				},
				"run": {
					"stamina": 2,
					"research": 5
				},
				"mod": {
					"bladelore.max": 0.2,
					"bladelore.rate": 0.2,
					"slashdmg": 1,
					"sworddmg": 1,
					"sword_basics.length": 5
				},
				"flavor": "你的对练伙伴动作不多，是吧？",
				"group": "武技"
			},
			{
				"id": "sword_lessons",
				"name": "剑术课程",
				"require": "g.bladelore>=5",
				"need": "armssource",
				"desc": "参加额外的剑术打击课程。每次课程花费更多且耗时更长。",
				"max": 2,
				"length": 30,
				"cost": {
					"codices": "1+g.sword_lessons",
					"research": "500+g.sword_lessons*500",
					"gold": "500+g.sword_lessons*500"
				},
				"run": {
					"stamina": 2,
					"research": 5
				},
				"mod": {
					"bladelore.rate": 0.2,
					"player.tohit": 0.2,
					"stamina.max": 0.5,
					"vigor.max": 0.5,
					"sword_lessons.length": 5,
					"blade_endure.max": 0.2
				},
				"flavor": "学习刀道需要时间与奉献。",
				"group": "武技"
			},
			{
				"id": "blade_spellbook",
				"name": "剑击法典",
				"require": "g.bladelore>=5&&(g.spellblade+g.bladeweaver+g.arcanedervish+g.eldritchknight)>0",
				"desc": "汇编用刀刃施放与强化法术的方法。",
				"max": 0,
				"length": 30,
				"cost": {
					"codices": 25,
					"research": 1000
				},
				"run": {
					"stamina": 0.5,
					"research": 10
				},
				"mod": {
					"bladelore.rate": 1,
					"player.negate.silence": 2.5,
					"sworddmg": 2,
					"spelldmg": 3.75
				},
				"flavor": "你的剑与法术合为一体，协同增强。",
				"group": "武技"
			},
			{
				"id": "blade_endure",
				"name": "苦练",
				"require": "g.sword_lessons>=5",
				"need": "armssource",
				"desc": "通过大量训练提升你的耐力。",
				"max": 2,
				"length": 300,
				"cost": {
					"stamina": 25,
					"vigor": 15
				},
				"run": {
					"stamina": 7,
					"vigor": 1
				},
				"mod": {
					"bladelore.rate": 0.2,
					"dodge": 0.5,
					"speed": 1,
					"stamina.max": "5%",
					"stamina.rate": "2%",
					"vigor.max": "5%",
					"vigor.rate": "2%"
				},
				"flavor": "艰苦的训练带来显著成果。",
				"group": "身体"
			}
		],
		"classes": [
			{
				"id": "spellblade",
				"name": "魔剑士",
				"tags": "t_tier3,t_swordclass",
				"desc": "战斗专家，将巫术与传统武技融合。",
				"require": "g.tier2>0&&g.enchanting>=7&&g.weaponlore>=8&&g.tier3==0",
				"cost": {
					"research": 3000,
					"tomes": 3,
					"arcana": 20,
					"gold": 1000
				},
				"mod": {
					"sworddmg": 3,
					"player.speed": 1,
					"player.tohit": 1,
					"history.max": 1,
					"enchanting.max": 2,
					"bladelore.max": 2,
					"blade_spellbook.max": 1,
					"anatomy.max": 1,
					"arcanebody2.max": 1,
					"vivification.max": 1
				}
			},
			{
				"id": "bladeweaver",
				"tags": "t_tier4,t_swordclass",
				"desc": "你进一步修炼，将魔法与钢铁以魔法般的优雅交织。",
				"require": "g.tier3>0&&(g.bladelore+g.weaponlore)>=10&&g.tier4==0&&g.weaving>=5",
				"cost": {
					"research": 5000,
					"tomes": 10,
					"arcana": 20,
					"gold": 2500,
					"airgem": 10,
					"firegem": 5,
					"earthgem": 5,
					"watergem": 5
				},
				"mod": {
					"player.dodge": 2,
					"player.speed": "3%",
					"history.max": 1,
					"enchanting.max": 1,
					"elemental.max": 1,
					"bladelore.max": 2,
					"blade_spellbook.max": 1,
					"anatomy.max": 1,
					"arcanebody2.max": 1,
					"vivification.max": 1
				}
			},
			{
				"id": "arcanedervish",
				"name": "奥术旋风",
				"tags": "t_tier5,t_swordclass",
				"desc": "你的刀法与魔法在模糊中融合，每一击如一段舞步。",
				"require": "g.tier4>0&&g.bladelore>=7&&g.tier5==0",
				"cost": {
					"research": 10000,
					"tomes": 20,
					"arcana": 20,
					"gold": 4000,
					"airgem": 20,
					"firegem": 10,
					"earthgem": 10,
					"watergem": 10
				},
				"mod": {
					"stamina.rate": "0.3",
					"vigor.rate": "0.03",
					"player.dodge": "5%",
					"history.max": 1,
					"enchanting.max": 1,
					"elemental.max": 1,
					"bladelore.max": 2,
					"blade_spellbook.max": 1,
					"anatomy.max": 1,
					"arcanebody2.max": 1,
					"vivification.max": 2
				}
			},
			{
				"id": "eldritchknight",
				"name": "秘术骑士",
				"tags": "t_tier6,t_swordclass",
				"desc": "你已达到钢与秘术融合的巅峰，你的剑势仿佛能劈裂空气。",
				"require": "g.tier5>0&&g.t_swordclass>0&&(g.bladelore+g.weaponlore)>=12&&g.tier6==0",
				"cost": {
					"research": 15000,
					"tomes": 15,
					"runestones": 10,
					"arcana": 20,
					"gold": 7500,
					"airgem": 40,
					"firegem": 20,
					"earthgem": 20,
					"watergem": 20
				},
				"mod": {
					"stamina.rate": "0.5+2%",
					"vigor.rate": "0.05+2%",
					"history.max": 1,
					"enchanting.max": 1,
					"bladelore.max": 2,
					"blade_spellbook.max": 1,
					"elemental.max": 1,
					"anatomy.max": 1,
					"arcanebody2.max": 1,
					"vivification.max": 2
				},
				"flavor": "Mithril parts with but a gesture. Flesh and bone, barely even a thought."
			}
		],
		"tags": [
			{
				"id": "t_blade",
				"name": "剑系法术",
				"hide": true
			}
		],
		"spells": [
			{
				"id": "mk_blade",
				"name": "召唤之刃",
				"desc": "在战斗中召唤一把魔剑为你而战。",
				"sortOrder": 1762,
				"level": 7,
				"school": "summoning",
				"keywords": {
					"type": [
						"summon"
					],
					"target": [
						"ally"
					],
					"targets": [
						"single"
					],
					"delivery": [
						"instant"
					]
				},
				"require": "(g.bladelore>=7&&g.summoning>=5)||g.t_summonclass>=2",
				"buy": {
					"research": 5000,
					"tomes": 5
				},
				"cost": {
					"mana": 10
				},
				"result": {
					"summoning.exp": 1
				},
				"summon": [
					{
						"id": "sum_magicblade",
						"count": 1,
						"max": 3
					}
				]
			},
			{
				"id": "blade_buff",
				"name": "锋利之刃",
				"sortOrder": 386,
				"level": 5,
				"school": "martial",
				"keywords": {
					"type": [
						"buff"
					],
					"target": [
						"ally"
					],
					"targets": [
						"multiple"
					],
					"delivery": [
						"over time"
					]
				},
				"require": "g.enchanting>=6&&g.summoning>=5&&g.mk_blade.owned",
				"buy": {
					"tomes": 1,
					"research": 100,
					"spiritgem": 5
				},
				"cost": {
					"spirit": 6,
					"vigor": 2
				},
				"cd": 25,
				"result": {
					"enchanting.exp": 0.8
				},
				"attack": {
					"targets": "minions",
					"maxTargets": 999,
					"harmless": true,
					"dot": {
						"name": "锋利之刃",
						"duration": 45,
						"mod": {
							"self.bonuses.slash": 7
						}
					}
				}
			},
			{
				"id": "tide_blows",
				"name": "潮击",
				"desc": "以海洋之力斩击一群敌人。",
				"sortOrder": 323,
				"level": 7,
				"school": "martial",
				"tags": [
					"t_nospellcraft",
					"t_blade"
				],
				"keywords": {
					"type": [
						"damage",
						"debuff"
					],
					"target": [
						"enemy"
					],
					"targets": [
						"multiple"
					],
					"delivery": [
						"instant",
						"over time"
					],
					"special": [
						"weapon"
					]
				},
				"require": "g.bladelore>=10&&g.waterlore>=8",
				"buy": {
					"tomes": 5,
					"watergem": 10
				},
				"caststoppers": [
					1,
					4
				],
				"need": "g.player.getWeapon().hasTag('t_sword')",
				"needtext": "当前装备的武器必须为剑",
				"cost": {
					"water": 7,
					"vigor": 7
				},
				"cd": 4,
				"result": {
					"waterlore.exp": 0.7,
					"bladelore.exp": 0.7
				},
				"attack": {
					"targets": "enemies",
					"maxTargets": 999,
					"kind": "water",
					"tohit": 2,
					"damage": "(a.getWeapon().damage||0)*0.8",
					"potencies": [
						"physdmg",
						"sworddmg",
						"waterdmg"
					],
					"dot": {
						"name": "riptide",
						"kind": "water",
						"damage": "0~6",
						"duration": 20,
						"mod": {
							"self.speed": -3
						},
						"potencies": [
							"spelldmg",
							"waterdmg"
						]
					}
				}
			},
			{
				"id": "mana_slash",
				"name": "奥术斩",
				"desc": "用法力为你的剑注能，增强威力。",
				"sortOrder": 322,
				"level": 4,
				"school": "martial",
				"tags": [
					"t_nospellcraft",
					"t_blade"
				],
				"keywords": {
					"type": [
						"damage"
					],
					"target": [
						"enemy"
					],
					"targets": [
						"single"
					],
					"delivery": [
						"instant"
					],
					"special": [
						"weapon"
					]
				},
				"require": "g.bladelore>=3&&g.lore>=8",
				"buy": {
					"codices": 5,
					"managem": 7
				},
				"caststoppers": [
					1,
					4
				],
				"need": "g.player.getWeapon().hasTag('t_sword')",
				"needtext": "当前装备的武器必须为剑",
				"cost": {
					"mana": 4,
					"vigor": 3
				},
				"cd": 2,
				"result": {
					"lore.exp": 0.4,
					"bladelore.exp": 0.3
				},
				"attack": {
					"kind": "mana",
					"tohit": 3,
					"damage": "(a.getWeapon().damage||0)*1.4",
					"potencies": [
						"physdmg",
						"sworddmg",
						"manadmg"
					]
				}
			},
			{
				"id": "whirl_slices",
				"name": "旋风劈砍",
				"desc": "劈裂空气以伤及多名敌人。",
				"sortOrder": 324,
				"level": 6,
				"school": "martial",
				"tags": [
					"t_nospellcraft",
					"t_blade"
				],
				"keywords": {
					"type": [
						"damage",
						"buff"
					],
					"target": [
						"self",
						"enemy"
					],
					"targets": [
						"multiple"
					],
					"delivery": [
						"instant",
						"over time"
					],
					"special": [
						"weapon"
					]
				},
				"require": "g.bladelore>=8&&g.airlore>=8",
				"cd": 2,
				"buy": {
					"tomes": 5,
					"airgem": 10
				},
				"caststoppers": [
					1,
					4
				],
				"need": "g.player.getWeapon().hasTag('t_sword')",
				"needtext": "Currently equipped weapon must be a sword",
				"cost": {
					"air": 6,
					"vigor": 6
				},
				"result": {
					"airlore.exp": 0.6,
					"bladelore.exp": 0.6
				},
				"dot": {
					"tags": "whirlingstep",
					"duration": 15,
					"mod": {
						"self.speed": 7,
						"self.dodge": 3
					}
				},
				"attack": {
					"targets": "enemies",
					"maxTargets": 999,
					"kind": "air",
					"tohit": 3,
					"damage": "(a.getWeapon().damage||0)*1.0",
					"potencies": [
						"sworddmg",
						"spelldmg",
						"airdmg"
					]
				},
				"flavor": "旋转是一招好技巧。"
			},
			{
				"id": "spirit_strike",
				"name": "灵击",
				"desc": "锁定敌人并进行精准打击。",
				"sortOrder": 327,
				"level": 2,
				"school": "martial",
				"tags": [
					"t_nospellcraft",
					"t_blade"
				],
				"keywords": {
					"type": [
						"damage",
						"buff"
					],
					"target": [
						"self",
						"enemy"
					],
					"targets": [
						"single"
					],
					"delivery": [
						"instant",
						"over time"
					],
					"special": [
						"weapon"
					]
				},
				"require": "g.bladelore>=2&&g.scrying>=5&&g.spiritlore>=6",
				"buy": {
					"codices": 5,
					"spiritgem": 7
				},
				"caststoppers": [
					1
				],
				"need": "g.player.getWeapon().hasTag('t_sword')",
				"needtext": "Currently equipped weapon must be a sword",
				"cost": {
					"spirit": 3,
					"vigor": 1
				},
				"cd": 0.25,
				"result": {
					"spiritlore.exp": 0.3,
					"bladelore.exp": 0.1
				},
				"dot": {
					"duration": 30,
					"tags": "strike",
					"mod": {
						"self.tohit": 3
					}
				},
				"attack": {
					"kind": "spirit",
					"tohit": 5,
					"damage": "3+(a.getWeapon().damage||0)*0.6",
					"potencies": [
						"physdmg",
						"sworddmg",
						"spiritdmg"
					]
				}
			},
			{
				"id": "blind_sword",
				"name": "致盲之刃",
				"desc": "用剑反射阳光致盲敌人。",
				"sortOrder": 328,
				"level": 5,
				"school": "martial",
				"tags": [
					"t_nospellcraft",
					"t_blade"
				],
				"keywords": {
					"type": [
						"damage",
						"debuff"
					],
					"target": [
						"enemy"
					],
					"targets": [
						"single"
					],
					"delivery": [
						"instant",
						"over time"
					],
					"special": [
						"weapon"
					]
				},
				"require": "g.bladelore>=7&&g.lightlore>=8",
				"buy": {
					"tomes": 5,
					"lightgem": 10
				},
				"caststoppers": [
					1,
					4
				],
				"need": "g.player.getWeapon().hasTag('t_sword')",
				"needtext": "Currently equipped weapon must be a sword",
				"cost": {
					"light": 6,
					"vigor": 4
				},
				"cd": 2,
				"result": {
					"lightlore.exp": 0.6,
					"bladelore.exp": 0.4
				},
				"attack": {
					"kind": "light",
					"tohit": 2,
					"damage": "(a.getWeapon().damage||0)*1.2",
					"potencies": [
						"spelldmg",
						"sworddmg",
						"lightdmg"
					],
					"dot": {
						"name": "blind",
						"tags": "t_tohitdown",
						"kind": "light",
						"duration": 30,
						"mod": {
							"self.tohit": -3
						}
					}
				}
			},
			{
				"id": "poison_blade",
				"name": "毒刃",
				"desc": "让敌人铭记你的利刃。",
				"sortOrder": 326,
				"level": 8,
				"school": "martial",
				"tags": [
					"t_nospellcraft",
					"t_blade"
				],
				"keywords": {
					"type": [
						"damage"
					],
					"target": [
						"enemy"
					],
					"targets": [
						"single"
					],
					"delivery": [
						"instant",
						"over time"
					]
				},
				"require": "g.bladelore>=9&&g.naturelore>=8",
				"buy": {
					"tomes": 5,
					"naturegem": 10
				},
				"caststoppers": [
					1
				],
				"need": "g.player.getWeapon().hasTag('t_sword')",
				"needtext": "Currently equipped weapon must be a sword",
				"cost": {
					"nature": 6,
					"vigor": 5
				},
				"cd": 2,
				"result": {
					"naturelore.exp": 0.6,
					"bladelore.exp": 0.5
				},
				"attack": {
					"kind": "nature",
					"tohit": 1,
					"damage": "(a.getWeapon().damage||0)*0.5",
					"potencies": [
						"physdmg",
						"sworddmg",
						"naturedmg"
					],
					"dot": {
						"name": "poisoned wound",
						"kind": "nature",
						"duration": 20,
						"damage": "4~6",
						"potencies": [
							"sworddmg",
							"naturedmg",
							"poisondmg"
						]
					}
				}
			},
			{
				"id": "drain_slash",
				"name": "吸血斩",
				"desc": "通过你的剑吸取敌人的生命力。",
				"sortOrder": 329,
				"level": 6,
				"school": "martial",
				"tags": [
					"t_nospellcraft",
					"t_blade"
				],
				"keywords": {
					"type": [
						"damage"
					],
					"target": [
						"enemy"
					],
					"targets": [
						"single"
					],
					"delivery": [
						"instant",
						"over time"
					]
				},
				"require": "g.bladelore>=6&&g.shadowlore>=8",
				"buy": {
					"tomes": 5,
					"shadowgem": 10
				},
				"caststoppers": [
					1,
					4
				],
				"need": "g.player.getWeapon().hasTag('t_sword')",
				"needtext": "Currently equipped weapon must be a sword",
				"cost": {
					"shadow": 5,
					"vigor": 4
				},
				"cd": 2,
				"result": {
					"shadowlore.exp": 0.5,
					"bladelore.exp": 0.4
				},
				"attack": {
					"kind": "shadow",
					"tohit": 2,
					"damage": "(a.getWeapon().damage||0)*0.8",
					"potencies": [
						"physdmg",
						"sworddmg",
						"shadowdmg"
					],
					"dot": {
						"kind": "shadow",
						"duration": 40,
						"damage": 3,
						"potencies": [
							"shadowdmg",
							"spelldmg"
						]
					}
				}
			},
			{
				"id": "flameslash",
				"name": "烈焰斩",
				"desc": "以剑释放火流攻击敌人。",
				"sortOrder": 325,
				"level": 4,
				"school": "martial",
				"tags": [
					"t_nospellcraft",
					"t_blade"
				],
				"keywords": {
					"type": [
						"damage"
					],
					"target": [
						"enemy"
					],
					"targets": [
						"single"
					],
					"delivery": [
						"instant",
						"over time"
					]
				},
				"require": "g.bladelore>=3&&g.firelore>=8",
				"buy": {
					"codices": 5,
					"firegem": 10
				},
				"caststoppers": [
					1,
					4
				],
				"need": "g.player.getWeapon().hasTag('t_sword')",
				"needtext": "Currently equipped weapon must be a sword",
				"cost": {
					"fire": 6,
					"vigor": 4
				},
				"cd": 2,
				"result": {
					"firelore.exp": 0.6,
					"bladelore.exp": 0.4
				},
				"attack": {
					"kind": "fire",
					"tohit": 1,
					"damage": "(a.getWeapon().damage||0)*0.9",
					"potencies": [
						"spelldmg",
						"sworddmg",
						"firedmg"
					],
					"dot": {
						"name": "burning",
						"kind": "fire",
						"duration": 5,
						"damage": "5~7",
						"potencies": [
							"sworddmg",
							"firedmg",
							"spelldmg"
						]
					}
				}
			},
			{
				"id": "cut_time",
				"name": "切断时间",
				"desc": "从时间流中短暂抽离。",
				"sortOrder": 384,
				"level": 15,
				"school": "martial",
				"tags": [
					"t_nospellcraft",
					"t_blade"
				],
				"keywords": {
					"type": [
						"buff",
						"debuff"
					],
					"target": [
						"self"
					],
					"targets": [
						"single"
					],
					"delivery": [
						"over time"
					]
				},
				"require": "g.bladelore>=10&&g.chronomancy>=7",
				"buy": {
					"tomes": 25,
					"timegem": 3,
					"clepsydra": 3
				},
				"caststoppers": [
					1,
					4
				],
				"need": "g.player.getWeapon().hasTag('t_sword')",
				"needtext": "Currently equipped weapon must be a sword",
				"cost": {
					"tempus": 20
				},
				"cd": 60,
				"result": {
					"bladelore.exp": 20
				},
				"dot": {
					"name": "paused",
					"duration": 5,
					"mod": {
						"vigor.rate": 8,
						"self.speed": -60,
						"self.dodge": 20
					}
				}
			},
			{
				"id": "blood_slice",
				"name": "生命切片",
				"desc": "用你的鲜血强化一击。",
				"sortOrder": 321,
				"level": 2,
				"school": "martial",
				"tags": [
					"t_nospellcraft",
					"t_blade"
				],
				"keywords": {
					"type": [
						"damage"
					],
					"target": [
						"enemy"
					],
					"targets": [
						"single"
					],
					"delivery": [
						"instant"
					]
				},
				"require": "g.bladelore>=2&&g.bloodlore>=5",
				"buy": {
					"codices": 5,
					"bloodgem": 10
				},
				"caststoppers": [
					1
				],
				"need": "g.player.getWeapon().hasTag('t_sword')",
				"needtext": "Currently equipped weapon must be a sword",
				"cost": {
					"hp": 20,
					"vigor": 3
				},
				"cd": 4,
				"result": {
					"bloodlore.exp": 2,
					"bladelore.exp": 0.3
				},
				"attack": {
					"kind": "blood",
					"tohit": 4,
					"damage": "10+(a.getWeapon().damage||0)*0.7",
					"potencies": [
						"physdmg",
						"sworddmg",
						"blooddmg"
					]
				}
			}
		]
	}
}